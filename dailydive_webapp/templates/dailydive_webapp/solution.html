{% extends 'dailydive_webapp/index.html' %}
{% load static %}

{% block content %}
<div class="container">
    <!-- Content specific to this page -->
 
    <div class="row my-4">
        <!-- ÏùºÍ∏∞ Î∂ÑÏÑù ÏãúÍ∞ÅÌôî ÏòÅÏó≠ -->
        <h2 class="my-3 text-white no-padding">üåä Îã§Ïù¥Î∏åÎãòÏùò Ïã¨Ìï¥ </h2>
        <div class="summary text-white d-flex">
      
            <div class="d-flex container-fluid flex-column d-flex justify-content-center align-items-center">
                <h5 class="align-self-start">Ïò§ÎäòÏùò Í∞êÏ†ï</h5>
                <div class="result border border-3 rounded rounded-circle d-flex justify-content-center align-items-center">{{result}}</div>
            </div>
           <div class="d-flex container-fluid flex-column d-flex justify-content-center align-items-center">
            <h5 class="align-self-start">ÏÉùÌôú ÌôúÎèô Ï†êÏàò</h5>
            <div class="score border border-3 rounded rounded-circle d-flex justify-content-center align-items-center">{{score}}</div>
           </div>
          
        </div>
        <div class="col-12 my-4">
            <h3 class="my-5 text-white"> Í∞êÏ†ï Î∂ÑÏÑù Í≤∞Í≥º üìà </h3>
            <div class="card">
                <div class="card-body graph p-2 d-flex justify-content-center align-items-center">
                      <img src="data:image/png;base64, {{ chart|safe }}" alt="" id="img">
                      <img src="data:image/png;base64, {{ act_chart|safe }}" alt="" id="img">
                </div>
            </div>
        </div>
    </div>
  
    <div class="row mb-4">
        <!-- ÏÜîÎ£®ÏÖò ÏòÅÏó≠ -->
        <div class="col-12 my-4">
            <h3 class="my-5 text-white"> ÏÜîÎ£®ÏÖò Ï∂îÏ≤ú üöÄ</h3>
            <div class='container my-3'>
                <div class='row'>
                    <div class="flip-card-3D-wrapper col-md-4">
                        <div class="flip-card">
                            <div class="flip-card-front">
                                <div class='card-body d-flex justify-content-center align-items-center' style="height: 50vh;"> 
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-hand-index" viewBox="0 0 16 16">
                                        <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/>
                                    </svg>
                                    <p>Click!</p>
                                </div>  
                            </div>
                            <div class="flip-card-back">
                                <img class="image" src="{% static selected_db_1.img_url %}">
                                <div class='card-body'>
                                    <h4>{{ selected_db_1.solution_title }}</h4> 
                                    <p class="card-text">{{ selected_db_1.solution_guide }}</p>
                                </div>   
                            </div>
                        </div>
                    </div>  
                
                    <div class="flip-card-3D-wrapper col-md-4">
                        <div class="flip-card">
                            <div class="flip-card-front">
                                <div class='card-body d-flex justify-content-center align-items-center' style="height: 50vh;"> 
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-hand-index" viewBox="0 0 16 16">
                                        <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/>
                                    </svg>
                                </div>  
                            </div>
                            <div class="flip-card-back">
                                <img class="image" src="{% static selected_db_2.img_url %}">
                                <div class='card-body'>
                                    <h4>{{ selected_db_2.solution_title }}</h4> 
                                    <p class="card-text">{{ selected_db_2.solution_guide }}</p>
                                </div>    
                            </div>
                        </div>
                    </div> 
                
                    <div class="flip-card-3D-wrapper col-md-4">
                        <div class="flip-card">
                            <div class="flip-card-front">
                                <div class='card-body d-flex justify-content-center align-items-center' style="height: 50vh;"> 
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-hand-index" viewBox="0 0 16 16">
                                        <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/>
                                    </svg>
                                </div>  
                            </div>
                            <div class="flip-card-back">
                                <img class="image" src="{% static selected_db_3.img_url %}">
                                <div class='card-body'> 
                                    <h4>{{ selected_db_3.solution_title }}</h4>
                                    <p class="card-text">{{ selected_db_3.solution_guide }}</p>
                                </div>   
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const flipCardWrapAll = document.querySelector("#flip-card-wrap-all")
    const cardsWrapper = document.querySelectorAll(".flip-card-3D-wrapper")
    const cards = document.querySelectorAll(".flip-card")
    let frontButtons = ""
    let backButtons = ""

    for (let i = 0; i < cardsWrapper.length; i++) {
        frontButtons = cardsWrapper[i].querySelector(".flip-card-front")
        frontButtons.style.visibility = "visible"
        frontButtons.onclick = function() {
            cards[i].classList.toggle('do-flip')
            }
    
        backButtons = cardsWrapper[i].querySelector(".flip-card-back")
        backButtons.style.visibility = "visible"
        backButtons.onclick = function() {
            cards[i].classList.toggle('do-flip')
            }  
    } 
</script>

<style>
.no-padding {
      margin: 0;
    }

.summary {
    width: 100%;
    height: 350px;
}

.card {
    background-color: #141033;
}

.graph {
    background-color: #141033;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(164, 141, 141, 0.5),  0 -4px 6px rgba(164, 141, 141, 0.5);
}

.result {
    width: 200px;
    height: 200px;
    background-color: #5C469C;
    font-size: 35px;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(164, 141, 141, 0.5),  0 -4px 6px rgba(164, 141, 141, 0.5);
}

.score {
    width: 200px;
    height: 200px;
    background-color: #2ad8b9;
    font-size: 35px;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(164, 141, 141, 0.5),  0 -4px 6px rgba(164, 141, 141, 0.5);
}

.image {
    width: 100%;
    height: 70%;
}

.flip-card-3D-wrapper {
  /* width: 100%;
  height: 100%; */
  width: 320px;
  height: 500px;
  /* max-width: 300px;  */
  perspective: 1000px;
  margin: 10px auto;
}

.flip-card {
  height: 100%;
  transition: all 1s ease-in-out;
  transform-style: preserve-3d;
  /* height: 500px; */
}

.flip-card:hover {
    cursor: pointer;
}

.do-flip {transform: rotateY(180deg);}

.flip-card-front, .flip-card-back {
  height: 100%;
  width: 100%;
  position: absolute;
  backface-visibility: hidden;
  border-radius: 10px;
  border:5px solid #E80088;
  box-shadow: 0 0 10px 5px #FFC0CB;
}

.flip-card-front {background: #E80088;color: white;}
.flip-card-back {background: white;transform: rotateY(180deg);}
</style>
{% endblock %}

</html>